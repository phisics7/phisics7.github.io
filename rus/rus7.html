<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=320, initial-scale=1">
    <meta charset="utf-8">
    <style>
      body, html {
        min-width: 100%;
        min-height: 100%;
        margin: 0;
        padding: 0;
        font: Arial 14px;
      }
    </style>
    <script src="jQuery 3.3.1.js"></script>
    <script>
      $(document).ready(function(){
      var text = "(адреса,бока,борта,буера,буфера,бухгалтеры,веера,века,векселя,вензеля,возрасты,госпитали,грифели,грунты,диспетчеры,договоры,доктора,драйверы,желоба,жемчуга,жернова,инженеры,инспектора,инструкторы,катера,кителя,колокола,конструкторы,конюхи,края,кремы,кузова,купола,лекторы,лифты,окорока,округа,ордера,острова,отпуска,паруса,паспорта,плейеры,повара,погреба,порты,потроха,приговоры,принтеры,прожекторы,профессора,редакторы,ректора,ректоры,секторы,склады,слесари,снега,сорта,стога,сторожа,супы,тенора,тетерева,токари,тополя,торты,фельдшера,флоты,флюгера,фронты,хутора,черепа,шомпола,шофёры,штабеля,штабы,штемпеля,штурманы,шулера,).(абрикосов(абрикос),ампер(амперов),ананасов(ананас),апельсинов(апельсин),армий(армиев),армян(армянов),аршин(аршинов),аудиторий(аудиториев),байтов(байт),баклажанов(баклажан),бананов(банан),барж(барижий),барышень(барышней),басен(басней),бахил(бахилов),башен(башней),башкир(башкиров),бегуний(),бедуинов(бедуин),бит(битов),блюдец(блюдцев),богинь(),боен(),болгар(болгаров),болотцев(болотец),бомжей(боможов),ботинок(ботинков),бриджей(бридж),бронхов(бронх),брызг(брызгов),будней(будень),бурят(бурятов),бутс(бутсов),валенок(валенков),ватт(ваттов),вафель(вафлей),ведомостей(),векселей(вексель),вензелей(),верховьев(верховей),вишен(вишней),вольт(вольтов),выборов(),галош(галошей),гектаров(гектар),гольфов(гольф),госпиталей(),гостий(),граммов(грамм),гранатов(гранат),гренадер(),грузин(грузинов),груш(грушов),гуляний(гуляньев),гусар(гусаров),двоен(),дебатов(дебат),деревень(),деревцев(деревец),децибелов(децибел),джинсов(джинс),драгун(),дровней(дровень),дынь(),жабр(жабров),заморозков(заморозок),застолий(),зеркалец(),зраз(зразов),кабелей(кабелев),кадет(кадетов),казахов(казах),калмыков(калмык),каникул(),каратов(карат),килограммов(килограмм),километров(),киргизов(киргиз),клипс(),козней(),колдуний(),копытец(копытцев),копён(),кореньев(корений),кочерёг(),кружевцев(кружевец),кулуаров(),кухонь(кухней),кушаний(),лампасов(лампас),лезгин(лезгинов),лимонов(лимон),лопастей(лопастев),лосин(лосинов),лохмотьев(лохмотий),макарон(макаронов),мандаринов(мандарин),манжет(манжетов),медведей(),монголов(монгол),мощностей(мощностьев),мускулов(мускул),надгробий(надгробиев),нардов(),невзгод(),нервов(нерв),низовьев(незовий),новоселий(новосельев),носков(носок),нянь(),обойм(),огурцов(),одеялец(одеяльцев),ожерелий(ожерельев),оков(),оконцев(оконец),оладий(олодьев),осетин(осетинов),отраслей(),очистков(очисток),пародий(пародьев),партизан(партизанов),пашен(),пельменей(),пелён(),петель(петелев),печений(),питей(),платьев(платий),плясуний(плясуньев),побережий(побережьев),погонь(),подземелий(подземельев),подмастерьев(подмастерий),полотенец(полотенцев),полыней(полынь),помидоров(памидор),радиан(радианов),раздумий(),распрей(),рельсов(рельс),рентген(рентгенов),ружей(ружьев),румын(румынов),сапог(сапогов),сардин(сардиньев),семитов(семит),сердец(сердцев),серёг(серёгов),сидений(),сирот(),скатертей(скатертьев),скоростей(),слив(),снадобий(снадобьев),солдат(солдатов),солений(солпньев),солнц(),).";
        $("#buk").focus();
        $(".r7").hide();
        do {
          var n = Math.floor(Math.random()*10);
        } while(n==0||n > 2);
        for(var i = 0; i < n; i++) {
          var t1 = text.substring(1, text.indexOf(".") - 1);
          text = text.substring(text.indexOf(".") + 2, text.length);
        }
        if(n == 1){
            $("#zag").text("Вставьте пропущеную букву.");
          $("#r7_1").show();
        var k = t1.match(/,/g).length;
        do {
          var n = Math.floor(Math.random()*1000);
        } while(n == 0|| n > k);
        for(var i = 0; i < n; i++) {
          var sl = t1.substring(0, t1.indexOf(","));
          t1 = t1.substring(t1.indexOf(",") + 1, t1.length);
        }
        var buk =sl.substring(sl.length - 1, sl.length);
        var sl0 = sl.substring(0, sl.length - 1) + " _";
        $("#sl").text(sl0);
          $("#dal").click(function() {
            var buk0 = $("#buk").val();
            if(buk0 != buk) {
              alert("Неверно. " + sl);
            }
            document.location.href = document.location.href;
          });
        } else {
            $("#zag").text("Выберите верно написанное слово.");
          $("#r7_2").show();
var k = t1.match(/,/g).length;
        do {
          var n = Math.floor(Math.random()*1000);
        } while(n == 0|| n > k);
        for(var i = 0; i < n; i++) {
          var sl1 = t1.substring(0, t1.indexOf("("));
          var sl2 = t1.substring(t1.indexOf("(") + 1, t1.indexOf(")"));
          t1 = t1.substring(t1.indexOf(",") + 1, t1.length);
        }
          do {
          var n = Math.floor(Math.random()*10);
        } while(n > 1);
          $("#r7_2 button:eq(" + n + ")").text(sl1);
          if(n == 1){
n = 0;
          } else {
n = 1;
          }
$("#r7_2 button:eq(" + n + ")").text(sl2);
}
        $("#r7_2 button").click(function() {
          var sl0 = $(this).text();
          if(sl0 == sl1) {
            
          } else {
alert("Неверно. " + sl1);
          }
          document.location.href = document.location.href;
        });
      });
    </script>
    <style>
      #center {
position: absolute;
        left:0;
        rigth:0;
        top: 0;
        bottom:0;
        margin: auto;
        width: 100%;
        height:40%;
        text-align:center;
}
#ret {
        margin: 10px;
    }
    #zag{
        font-size: 20px;
        font-weight: bold;
    }
    </style>
  </head>
  <body>
  <button id="ret"><a href="index.html">Назад</a></button>
    <div id="center">
    <span id="zag"></span><br/><br/><br/>
      <div id="r7_1" class="r7">
      <span id="sl"></span><br/><br/>
      <input type="text" id="buk"/>
      <button id="dal">
        Далее
      </button>
</div>
      <div id="r7_2" class="r7">
        <button id="b1">
          
        </button>
        <button id="b2">
        
        </button>
      </div>
    </div>
  </body>
</html>
